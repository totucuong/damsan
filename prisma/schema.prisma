datasource db {
    provider  = "postgresql"
    url       = env("POSTGRES_PRISMA_URL") // uses connection pooling
    directUrl = env("POSTGRES_URL_NON_POOLING")
}

generator client {
    provider = "prisma-client-js"
}

model User {
    id        String    @id @default(cuid())
    email     String    @unique
    firstname String
    lastname  String
    messages  Message[]

    @@map("users")
}

enum MessageType {
    HUMAN
    BOT
}

model Message {
    id      String      @id @default(cuid())
    message String
    type    MessageType
    user    User        @relation(fields: [userId], references: [id])
    userId  String // foreign key field

    @@map("messages")
}
